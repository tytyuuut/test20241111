"use strict";(self["webpackChunkvue3_cart"]=self["webpackChunkvue3_cart"]||[]).push([[528],{2528:function(t,e,l){l.r(e),l.d(e,{default:function(){return f}});var r=l(6768),s=l(5130),n=l(4232),d=l(5432);const o={class:"position-relative d-flex"},a={class:"container d-flex flex-column",style:{"min-height":"100vh"}},u={class:"row my-auto pb-7 bg"},i={class:"col-md-4 d-flex flex-column"},c={class:"my-auto"},k=["src"],h={key:0},L={key:1,class:"text-success"},p={key:0,class:"mt-3"},g={key:1,class:"btn btn-success mt-3"};function v(t,e,l,v,b,m){const y=(0,r.g2)("userLoading");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)(y,{active:b.isLoading},{default:(0,r.k6)((()=>e[1]||(e[1]=[(0,r.Lk)("div",{class:"loading-bg"},[(0,r.Lk)("img",{src:d,alt:"loading"})],-1)]))),_:1},8,["active"]),(0,r.Lk)("div",o,[(0,r.Lk)("div",a,[(0,r.Lk)("div",u,[(0,r.Lk)("div",i,[(0,r.Lk)("div",c,[e[11]||(e[11]=(0,r.Lk)("h2",{class:""},[(0,r.Lk)("strong",null,"訂單成功")],-1)),(0,r.Lk)("form",{class:"",onSubmit:e[0]||(e[0]=(0,s.D$)(((...t)=>m.payOrder&&m.payOrder(...t)),["prevent"]))},[(0,r.Lk)("table",null,[e[3]||(e[3]=(0,r.Lk)("thead",null,[(0,r.Lk)("th",null,"品名"),(0,r.Lk)("th",null,"數量"),(0,r.Lk)("th",null,"單價")],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(b.order.products,(t=>((0,r.uX)(),(0,r.CE)("tr",{key:t.id},[(0,r.Lk)("td",null,[(0,r.Lk)("img",{src:t.product.imageUrl,width:"100"},null,8,k)]),(0,r.Lk)("td",null,(0,n.v_)(t.product.title),1),(0,r.Lk)("td",null,(0,n.v_)(t.qty)+"/"+(0,n.v_)(t.product.unit),1),(0,r.Lk)("td",null,(0,n.v_)(t.final_total),1)])))),128))]),(0,r.Lk)("tfoot",null,[(0,r.Lk)("tr",null,[e[2]||(e[2]=(0,r.Lk)("td",{width:"100",class:"font-weight-bold"},"總計",-1)),(0,r.Lk)("td",null,"$"+(0,n.v_)(b.order.total),1)])])]),(0,r.Lk)("table",null,[(0,r.Lk)("tbody",null,[(0,r.Lk)("tr",null,[e[4]||(e[4]=(0,r.Lk)("th",{width:"100"},"Email",-1)),(0,r.Lk)("td",null,(0,n.v_)(b.order.user.email),1)]),(0,r.Lk)("tr",null,[e[5]||(e[5]=(0,r.Lk)("th",null,"姓名",-1)),(0,r.Lk)("td",null,(0,n.v_)(b.order.user.name),1)]),(0,r.Lk)("tr",null,[e[6]||(e[6]=(0,r.Lk)("th",null,"收件人電話",-1)),(0,r.Lk)("td",null,(0,n.v_)(b.order.user.tel),1)]),(0,r.Lk)("tr",null,[e[7]||(e[7]=(0,r.Lk)("th",null,"收件人地址",-1)),(0,r.Lk)("td",null,(0,n.v_)(b.order.user.address),1)]),(0,r.Lk)("tr",null,[e[8]||(e[8]=(0,r.Lk)("th",null,"付款狀態",-1)),(0,r.Lk)("td",null,[b.order.is_paid?((0,r.uX)(),(0,r.CE)("span",L,"付款完成")):((0,r.uX)(),(0,r.CE)("span",h,"尚未付款"))])])])]),!1===b.order.is_paid?((0,r.uX)(),(0,r.CE)("div",p,e[9]||(e[9]=[(0,r.Lk)("button",{class:"btn btn-danger"},"確認付款去",-1)]))):((0,r.uX)(),(0,r.CE)("div",g,e[10]||(e[10]=[(0,r.Lk)("a",{href:"./#/index",class:"text-white text-decoration-none"},"付款完成",-1)])))],32)])])])]),e[12]||(e[12]=(0,r.Lk)("div",{class:"w-md-50 w-100 position-absolute opacity-1",style:{"z-index":"-1","min-height":"100vh",right:"0","background-image":"url(https://beardpapas.com.tw/wp-content/uploads/elementor/thumbs/Banner-pc-01-1-qy73vhau64prrqxjd6rqltvnjcy3cw78iofcd7cbb4.webp)","background-position":"center center","background-size":"cover"}},null,-1))])],64)}var b={name:"CheckoutSuccess",data(){return{order:{user:{}},orderId:"",isLoading:!1}},methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/andy1234-api/order/${this.orderId}`;this.isLoading=!0,this.$http.get(t).then((t=>{console.log(t),this.isLoading=!1,t.data.success&&(console.log(t.data.order),this.order=t.data.order,console.log(this.order))}))},payOrder(){const t=`https://vue3-course-api.hexschool.io/api/andy1234-api/pay/${this.orderId}`;this.$http.post(t).then((t=>{t.data.success&&this.getOrder()}))}},created(){this.orderId=this.$route.params.orderId,console.log(this.orderId),this.getOrder()}},m=l(1241);const y=(0,m.A)(b,[["render",v]]);var f=y},5432:function(t,e,l){t.exports=l.p+"img/loading-img.aeb4fba1.png"}}]);
//# sourceMappingURL=528.830a8be1.js.map