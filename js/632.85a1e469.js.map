{"version":3,"file":"js/632.85a1e469.js","mappings":"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","sources":["webpack://vue3-cart/./src/views/front/detail.vue","webpack://vue3-cart/./src/views/front/detail.vue?97b1"],"sourcesContent":["// detail.vue\n<template>\n  <userLoading :active=\"isLoading\">\n    <div class=\"loading-bg\">\n      <img src=\"../../assets/loading-img.png\" alt=\"loading\">\n    </div>\n  </userLoading>\n  <div class=\"container\" style=\"padding-top: 100px;\">\n    <div class=\"row align-items-center\">\n      <div class=\"col-md-7\">\n        <img :src=\"product.imageUrl\" class=\"d-block w-100\" alt=\"...\">\n      </div>\n      <div class=\"col-md-5\">\n        <h2 class=\"fw-bold h1 mb-1\">{{ product.title }}</h2>\n        <p class=\"h4 fw-bold text-end\">NT${{ product.price }}</p>\n        <div class=\"row align-items-center\">\n          <div class=\"col-6\">\n            <button \n              @click=\"addToCart(product.id)\" \n              class=\"text-nowrap btn btn-dark w-100 py-2\"\n              :disabled=\"status.loadingItem === product.id\"\n            >\n              <span v-if=\"status.loadingItem === product.id\" class=\"spinner-grow spinner-grow-sm\" role=\"status\"></span>\n              <span v-else>加入購物車</span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"row my-5\">\n      <div class=\"col-md-4\">\n        <p>{{ product.content }}</p>\n      </div>\n      <div class=\"col-md-3\">\n        <p class=\"text-muted\">{{ product.description }}</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport emitter from '@/methods/emitter';\n\nexport default {\n  name: \"UserDetail\",\n  data() {\n    return {\n      product: {},\n      status: {\n        loadingItem: \"\",\n      },\n      isLoading: false,\n    };\n  },\n  methods: {\n    getProduct() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`;\n      this.isLoading = true;\n      this.$http.get(url)\n        .then(response => {\n          this.product = response.data.product;\n          this.isLoading = false;\n        })\n        .catch(error => {\n          console.error('獲取產品詳情失敗:', error);\n          this.isLoading = false;\n        });\n    },\n    addToCart(id) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.status.loadingItem = id;\n      const cart = {\n        product_id: id,\n        qty: 1,\n      };\n      this.$http.post(url, { data: cart })\n        .then((response) => {\n          this.status.loadingItem = \"\";\n          this.$httpMessageState(response, '加入購物車');\n          if (response.data.success) {\n            emitter.emit('update-cart'); // 發送更新事件\n          }\n        })\n        .catch((error) => {\n          this.status.loadingItem = \"\";\n          console.error('添加到購物車失敗:', error);\n          this.$httpMessageState({ success: false }, '加入購物車失敗');\n        });\n    },\n  },\n  created() {\n    this.id = this.$route.params.productId;\n    this.getProduct();\n  },\n}\n</script>","import { render } from \"./detail.vue?vue&type=template&id=3585bcdb\"\nimport script from \"./detail.vue?vue&type=script&lang=js\"\nexport * from \"./detail.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","key","role","_createElementBlock","_Fragment","_createVNode","_component_userLoading","active","$data","isLoading","default","_withCtx","_cache","_createElementVNode","src","_imports_0","alt","_","_hoisted_1","_hoisted_2","_hoisted_3","product","imageUrl","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","title","_hoisted_7","price","_hoisted_8","_hoisted_9","onClick","$event","$options","addToCart","id","disabled","status","loadingItem","_hoisted_11","_hoisted_12","_hoisted_10","_hoisted_13","_hoisted_14","content","_hoisted_15","_hoisted_16","description","name","data","methods","getProduct","url","this","$http","get","then","response","catch","error","console","cart","product_id","qty","post","$httpMessageState","success","emitter","emit","created","$route","params","productId","__exports__","render"],"sourceRoot":""}