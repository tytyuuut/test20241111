"use strict";(self["webpackChunkvue3_cart"]=self["webpackChunkvue3_cart"]||[]).push([[77],{458:function(e,l,a){a.r(l),a.d(l,{default:function(){return j}});var s=a(6768),t=a(4232),r=a(5130);const o={class:"container"},d={class:"row flex-row-reverse justify-content-center pb-5"},c={class:"col-md-4"},i={class:"border p-4 mb-4"},n=["src"],m={class:"w-100"},u={class:"d-flex justify-content-between"},b={class:"mb-0 fw-bold"},f={class:"border-0 align-middle"},p={class:"mb-0 fw-bold"},k={class:"table mt-4 border-top border-bottom text-muted"},h={class:"text-end border-0 px-0 pt-4"},v={class:"d-flex justify-content-between mt-4"},L={class:"mb-0 h4 fw-bold"},g={class:"col-md-6"},x={class:"mb-0"},w={class:"mb-2"},y={class:"mb-2"},C={class:"mb-2"},V={class:"mb-2"};function F(e,l,a,F,_,U){const $=(0,s.g2)("useField"),j=(0,s.g2)("ErrorMsg"),q=(0,s.g2)("useForm");return(0,s.uX)(),(0,s.CE)("div",o,[l[14]||(l[14]=(0,s.Lk)("div",{class:"row justify-content-center"},[(0,s.Lk)("div",{class:"col-md-10"},[(0,s.Lk)("h3",{class:"fw-bold mb-4 pt-3"},"Checkout")])],-1)),(0,s.Lk)("div",d,[(0,s.Lk)("div",c,[(0,s.Lk)("div",i,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(_.cart.carts,(l=>((0,s.uX)(),(0,s.CE)("div",{class:"d-flex",key:l.id},[(0,s.Lk)("img",{src:l.product.imageUrl,alt:"",class:"me-2",style:{width:"48px",height:"48px","object-fit":"cover"}},null,8,n),(0,s.Lk)("div",m,[(0,s.Lk)("div",u,[(0,s.Lk)("p",b,(0,t.v_)(l.product.title),1),(0,s.Lk)("td",f," NT$"+(0,t.v_)(e.$filters.currency(l.final_total)),1)]),(0,s.Lk)("p",p,"x "+(0,t.v_)(l.qty),1)])])))),128)),(0,s.Lk)("table",k,[(0,s.Lk)("tbody",null,[(0,s.Lk)("tr",null,[l[5]||(l[5]=(0,s.Lk)("th",{scope:"row",class:"border-0 px-0 pt-4 font-weight-normal"},"Subtotal",-1)),(0,s.Lk)("td",h,"NT$"+(0,t.v_)(_.cart.final_total),1)]),l[6]||(l[6]=(0,s.Lk)("tr",null,[(0,s.Lk)("th",{scope:"row",class:"border-0 px-0 pt-0 pb-4 font-weight-normal"},"付款方式"),(0,s.Lk)("td",{class:"text-end border-0 px-0 pt-0 pb-4"},"現金結帳")],-1))])]),(0,s.Lk)("div",v,[l[7]||(l[7]=(0,s.Lk)("p",{class:"mb-0 h4 fw-bold"},"Total",-1)),(0,s.Lk)("p",L,"NT$"+(0,t.v_)(_.cart.final_total),1)])])]),(0,s.Lk)("div",g,[(0,s.bF)(q,{onSubmit:U.createOrder},{default:(0,s.k6)((({errors:e})=>[(0,s.Lk)("div",x,[l[8]||(l[8]=(0,s.Lk)("label",{for:"email",class:"text-muted mb-0"},"Email",-1)),(0,s.bF)($,{id:"email",name:"email",type:"email",class:(0,t.C4)(["form-control",{"is-invalid":e["email"]}]),placeholder:"請輸入電子信箱",rules:"email|required",modelValue:_.form.user.email,"onUpdate:modelValue":l[0]||(l[0]=e=>_.form.user.email=e)},null,8,["class","modelValue"]),(0,s.bF)(j,{name:"email",class:"invalid-feedback"})]),(0,s.Lk)("div",w,[l[9]||(l[9]=(0,s.Lk)("label",{for:"name",class:"text-muted mb-0"},"收件人姓名",-1)),(0,s.bF)($,{id:"name",name:"name",type:"text",class:(0,t.C4)(["form-control",{"is-invalid":e["姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:_.form.user.name,"onUpdate:modelValue":l[1]||(l[1]=e=>_.form.user.name=e)},null,8,["class","modelValue"]),(0,s.bF)(j,{name:"姓名",class:"invalid-feedback"})]),(0,s.Lk)("div",y,[l[10]||(l[10]=(0,s.Lk)("label",{for:"tel",class:"text-muted mb-0"},"收件人電話",-1)),(0,s.bF)($,{type:"tel",name:"電話",class:(0,t.C4)(["form-control",{"is-invalid":e["電話"]}]),id:"tel",placeholder:"請輸入電話",rules:"required",modelValue:_.form.user.tel,"onUpdate:modelValue":l[2]||(l[2]=e=>_.form.user.tel=e)},null,8,["class","modelValue"]),(0,s.bF)(j,{name:"電話",class:"invalid-feedback"})]),(0,s.Lk)("div",C,[l[11]||(l[11]=(0,s.Lk)("label",{for:"address",class:"text-muted mb-0"},"收件人地址",-1)),(0,s.bF)($,{type:"text",name:"地址",class:(0,t.C4)(["form-control",{"is-invalid":e["地址"]}]),id:"address",placeholder:"請輸入電話",rules:"required",modelValue:_.form.user.address,"onUpdate:modelValue":l[3]||(l[3]=e=>_.form.user.address=e)},null,8,["class","modelValue"]),(0,s.bF)(j,{name:"地址",class:"invalid-feedback"})]),(0,s.Lk)("div",V,[l[12]||(l[12]=(0,s.Lk)("label",{for:"message",class:"text-muted mb-0"},"留言",-1)),(0,s.bo)((0,s.Lk)("textarea",{class:"form-control",rows:"3",id:"message",placeholder:"message ... ","onUpdate:modelValue":l[4]||(l[4]=e=>_.form.message=e)},null,512),[[r.Jo,_.form.message]])]),l[13]||(l[13]=(0,s.Lk)("div",{class:"text-end"},[(0,s.Lk)("button",{class:"btn btn-danger"},"送出訂單")],-1))])),_:1},8,["onSubmit"])])])])}var _={name:"UserCheckout",data(){return{cart:{},form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{getCart(){const e="https://vue3-course-api.hexschool.io/api/andy1234-api/cart";this.isLoading=!0,this.$http.get(e).then((e=>{console.log(e),this.cart=e.data.data,console.log(this.cart),this.isLoading=!1}))},createOrder(){console.log("Create");const e="https://vue3-course-api.hexschool.io/api/andy1234-api/order",l=this.form;this.$http.post(e,{data:l}).then((e=>{console.log(e)}))}},created(){this.getCart()}},U=a(1241);const $=(0,U.A)(_,[["render",F]]);var j=$}}]);
//# sourceMappingURL=77.39fa05d3.js.map