{"version":3,"file":"js/853.916a338a.js","mappings":"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","sources":["webpack://vue3-cart/./src/components/Pagination.vue","webpack://vue3-cart/./src/components/Pagination.vue?33dc","webpack://vue3-cart/./src/views/Orders.vue","webpack://vue3-cart/./src/components/OrderModal.vue","webpack://vue3-cart/./src/components/OrderModal.vue?b91a","webpack://vue3-cart/./src/views/Orders.vue?3d0e"],"sourcesContent":["<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination justify-content-center\">\r\n      <li class=\"page-item\">\r\n        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\">\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n      <li class=\"page-item\" v-for=\"page in pages.total_pages\" :key=\"page\" :class=\"{ 'active': page === pages.current_page }\">\r\n        <button class=\"page-link\" @click.prevent=\"updatePage(page)\">\r\n          {{ page }}\r\n        </button>\r\n      </li>\r\n      <li class=\"page-item\">\r\n        <a class=\"page-link\" href=\"#\" aria-label=\"Next\">\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\n// :pages=\"{ 頁碼資訊 }\"\r\n// @emitPages=\"更新頁面事件\"\r\nexport default {\r\n  name: 'UserPagination',\r\n  props: ['pages'],\r\n  methods: {\r\n    updatePage(page) {\r\n      this.$emit('emit-pages', page);\r\n    },\r\n  },\r\n};\r\n</script>","import { render } from \"./Pagination.vue?vue&type=template&id=e6fe6f34\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <div>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <table class=\"table mt-4\">\r\n    <thead>\r\n        <tr>\r\n            <th>購買時間</th>\r\n            <th>Email</th>\r\n            <th>購買款項</th>\r\n            <th>應付金額</th>\r\n            <th>是否付款</th>\r\n            <th>編輯</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        <template v-for=\"(item, key) in orders\" :key=\"key\">\r\n            <tr v-if=\"orders.length\" :class=\"{'text-secondary': !item.is_paid}\">\r\n                <td>{{ $filters.date(item.create_at) }}</td>\r\n                <td><span v-text=\"item.user.email\" v-if=\"item.user\"></span></td>\r\n                <td>\r\n                    <ul class=\"list-unstyled\">\r\n                        <li v-for=\"(product, i) in item.products\" :key=\"i\">\r\n                            {{ product.product.title }} 數量：{{ product.qty }}\r\n                            <!-- {{ product.product.unit }} -->\r\n                        </li>\r\n                    </ul>\r\n                </td>\r\n                <td class=\"text-right\">{{ item.total}}</td>\r\n                <td>\r\n                    <div class=\"form-check form-switch\">\r\n                        <input class=\"form-check-input\" type=\"checkbox\" :id=\"`paidSwitch${item.id}`\" v-model=\"item.is_paid\" @change=\"updatePaid(item)\">\r\n                        <label class=\"form-check-label\" :for=\"`paidSwitch${item.id}`\">\r\n                            <span v-if=\"item.is_paid\">已付款</span>\r\n                            <span v-else>未付款</span>\r\n                        </label>\r\n                    </div>\r\n                </td>\r\n                <td>\r\n                    <div class=\"btn-group\">\r\n                        <button class=\"btn btn-outline-primary btn-sm\" @click=\"openModal(false,item)\">檢視</button>\r\n                        <button class=\"btn btn-outline-danger btn-sm\" @click=\"openDelOrderModal(item)\">刪除</button>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </template>\r\n    </tbody>\r\n  </table>\r\n  <OrderModal :order=\"tempOrder\" ref=\"orderModal\" @update-paid=\"updatePaid\"></OrderModal>\r\n  <DelModal :item=\"tempOrder\" ref=\"delModal\" @del-item=\"delOrder\"></DelModal>\r\n  <Pagination :pages=\"pagination\" @emit-pages=\"getOrders\"></Pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DelModal from '@/components/DelModal.vue';\r\nimport OrderModal from '@/components/OrderModal.vue';\r\nimport Pagination from '@/components/Pagination.vue';\r\nexport default {\r\n    name:\"UserOrders\",\r\n    data(){\r\n        return{\r\n            orders:{},\r\n            isNew:false,\r\n            pagination:{},\r\n            isLoading: false,\r\n            tempOrder: {},\r\n            currentPage: 1,\r\n        };\r\n    },\r\n    components:{\r\n        Pagination,\r\n        DelModal,\r\n        OrderModal,\r\n    },\r\n    methods:{\r\n        getOrders(currentPage = 1){\r\n            this.currentPage = currentPage;\r\n            const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${currentPage}`;\r\n            this.isLoading = true;\r\n            this.$http.get(url, this.tempProduct).then((response) => {\r\n                this.orders = response.data.orders;\r\n                this.pagination = response.data.pagination;\r\n                this.isLoading = false;\r\n                console.log(response);\r\n            });\r\n        },\r\n        openModal(isNew, item){\r\n            this.tempOrder = {...item };\r\n            this.isNew = false;\r\n            const orderComponent = this.$refs.orderModal;\r\n            orderComponent.showModal();\r\n        },\r\n        openDelOrderModal(item){\r\n            this.tempOrder = {...item };\r\n            const delComponent = this.$refs.delModal;\r\n            delComponent.showModal();\r\n        },\r\n        updatePaid(item){\r\n            this.isLoading = true;\r\n            const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`;\r\n            const paid = {\r\n                is_paid: item.is_paid,\r\n            };\r\n            this.$http.put(api, { data: paid}).then((response) => {\r\n                this.isLoading = false;\r\n                this.getOrders(this.currentPage);\r\n                // this.$httpMessageState(response, '更新付款狀態');\r\n            });\r\n        },\r\n        delOrder(){\r\n            const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${this.tempOrder.id}`;\r\n            this.isLoading = true;\r\n            this.$http.delete(url).then((response) => {\r\n                console.log(response);\r\n                const delComponent = this.$refs.delModal;\r\n                delComponent.hideModal();\r\n                this.getOrders(this.currentPage);\r\n            });\r\n        },\r\n    },\r\n    created(){\r\n        this.getOrders();\r\n        console.log(process.env.VUE_APP_API);\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","<template>\r\n  <div class=\"modal fade\" id=\"productModal\" tabindex=\"-1\" \r\n  aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\">\r\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n        <div class=\"modal-content border-0\">\r\n            <div class=\"modal-header bg-dark text-white\">\r\n                <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n                    <span>訂單細節</span>\r\n                </h5>\r\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-4\">\r\n                        <h3>用戶資訊</h3>\r\n                        <table class=\"table\">\r\n                            <tbody v-if=\"tempOrder.user\">\r\n                                <tr>\r\n                                    <th style=\"width: 100px;\">姓名</th>\r\n                                    <td>{{tempOrder.user.name}}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th>Email</th>\r\n                                    <td>{{tempOrder.user.email}}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th>電話</th>\r\n                                    <td>{{tempOrder.user.tel}}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th>地址</th>\r\n                                    <td>{{tempOrder.user.address}}</td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                    <div class=\"col-md-8\">\r\n                        <h3>訂單細節</h3>\r\n                        <table class=\"table\">\r\n                            <tbody>\r\n                                <tr>\r\n                                    <th style=\"width: 100px;\">訂單編號</th>\r\n                                    <td>{{tempOrder.id}}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th>下單時間</th>\r\n                                    <td>{{ $filters.date(tempOrder.create_at)}}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th>付款時間</th>\r\n                                    <td>\r\n                                        <span v-if=\"tempOrder.paid_date\">{{ $filters.date(tempOrder.paid_date)}}</span>\r\n                                        <span v-else>時間不正確</span>\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th>付款狀態</th>\r\n                                    <td>\r\n                                        <strong v-if=\"tempOrder.is_paid\" class=\"text-success\">已付款</strong>\r\n                                        <span v-else class=\"text-muted\">尚未付款</span>\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th>付款狀態</th>\r\n                                    <td>\r\n                                        <strong v-if=\"tempOrder.is_paid\" class=\"text-success\">已付款</strong>\r\n                                        <span v-else class=\"text-muted\">尚未付款</span>\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th>總金額</th>\r\n                                    <td>\r\n                                        {{ $filters.currency(tempOrder.total) }}\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                        <h3>選購商品</h3>\r\n                        <table class=\"table\">\r\n                            <thead>\r\n                                <tr></tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\r\n                                    <th>\r\n                                        <img :src=\"item.product.imageUrl\" class=\"img-fluid\" style=\"width: 100px; height: 100px; object-fit: cover;\" alt=\"\">\r\n                                    </th>\r\n                                    <th>\r\n                                        {{ item.product.title }}\r\n                                    </th>\r\n                                    <td>\r\n                                        {{ item.qty }} \r\n                                    </td>\r\n                                    <td class=\"text-end\">\r\n                                        {{ $filters.currency(item.final_total) }}\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n                <button class=\"btn btn-outline-secondat\" data-bs-dismiss=\"modal\">取消</button>\r\n                <button class=\"btn btn-primary\" @click=\"$emit('update-order', tempOrder)\">確認</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport modalMixin from '@/mixins/modalMixin';\r\nexport default {\r\n    name: 'orderModal',\r\n    props: {\r\n        order:{\r\n            type: Object,\r\n            default(){ return {}; },\r\n        },\r\n    },\r\n    data(){\r\n        return{\r\n            status:{},\r\n            modal: '',\r\n            tempOrder: {},\r\n            isPaid: false,\r\n        };\r\n    },\r\n    emits: ['update-product'],\r\n    mixins: [modalMixin],\r\n    inject: ['emitter'],\r\n    watch:{\r\n        order(){\r\n            this.tempOrder = {...this.order};\r\n            this.isPaid = this.tempOrder.is_paid;\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import { render } from \"./OrderModal.vue?vue&type=template&id=35e07140\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Orders.vue?vue&type=template&id=b69737b2\"\nimport script from \"./Orders.vue?vue&type=script&lang=js\"\nexport * from \"./Orders.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","href","_Fragment","_renderList","$props","pages","total_pages","page","_normalizeClass","current_page","key","onClick","_withModifiers","$event","$options","updatePage","_hoisted_3","name","props","methods","this","$emit","__exports__","render","_createVNode","_component_Loading","active","$data","isLoading","orders","item","length","is_paid","_toDisplayString","_ctx","$filters","date","create_at","user","textContent","email","_createCommentVNode","products","product","i","title","qty","_hoisted_4","total","_hoisted_5","type","id","onChange","updatePaid","_hoisted_6","for","_hoisted_8","_hoisted_9","_hoisted_7","_hoisted_10","openModal","_hoisted_11","openDelOrderModal","_hoisted_12","_component_OrderModal","order","tempOrder","ref","onUpdatePaid","_component_DelModal","onDelItem","delOrder","_component_Pagination","pagination","onEmitPages","getOrders","tabindex","role","style","tel","address","paid_date","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","currency","_hoisted_17","src","imageUrl","alt","_hoisted_18","_hoisted_19","final_total","_hoisted_20","_cache","Object","default","data","status","modal","isPaid","emits","mixins","modalMixin","inject","watch","isNew","currentPage","components","Pagination","DelModal","OrderModal","url","$http","get","tempProduct","then","response","console","log","orderComponent","$refs","orderModal","showModal","delComponent","delModal","api","paid","put","delete","hideModal","created","process"],"sourceRoot":""}